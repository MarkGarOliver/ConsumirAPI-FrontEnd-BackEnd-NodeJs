<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>consumindo api</title>
</head>
<body>
    <main>

    </main>


</body>

<script>

    async function buscarAPI(){
        //await espera que o fetch fazer a busca e depois atribui a variavel resposta | await só funciona em funções assíncronas por isso a async
        try {
            const resposta = await fetch('http://localhost:8081/api2')

            //resposta retorna bastante informações, e o que queremos está no body, corpo da resposta. para pegas esses dados atribuimos a uma var data
            const data = await resposta.json()
            //console.log(data)

            show(data)
        } catch (error) {
            console.log(error)
        }

    }

    buscarAPI()
    
    //função para colocar na tela os dados buscados na api
    function show(users){

        let output = ''

        for(let user of users){
            output += `<li>${user.name}</li>`
        }

        //console.log(output)
        document.querySelector('main').innerHTML = output
    }

</script>

</html>